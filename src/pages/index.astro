---
import Layout from '../layouts/Layout.astro'
import '../styles/index.css'
import { basicInfoSection } from '@/data/shopInfo'
import Section from '@/layouts/Section.astro'
import { foods, yakiton } from '@/data/menu.ts'
import MenuCategory from '@/components/ui/MenuCategory.astro'
---

<Layout>
  <main class="container mx-auto px-4">
    <!-- 基本情報 -->
    <Section id="info" title="基本情報">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 auto-rows-fr items-start">
        {
          basicInfoSection.items.map((item) => (
            <div class="w-full h-full bg-background border border-primary rounded-2xl p-4 grid grid-cols-1 gap-4">
              <h3 class="text-xl font-bold ">{item.title}</h3>
              <ul>
                {item.contents.map((content) => (
                  <li set:html={content} />
                ))}
              </ul>
            </div>
          ))
        }
      </div>
    </Section>

    <!-- アクセス -->
    <Section id="access" title="アクセス">
      <div class="info-grid">
        <div class="info-item">
          <h3>店舗情報</h3>
          <p><strong>住所:</strong> 〒123-4567 東京都〇〇区△△町 0-0-0 □□ビル 1F</p>
          <p><strong>最寄り駅:</strong> 〇〇線△△駅から徒歩5分</p>
          <div class="map-container">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d260.9677655243392!2d133.33532607077836!3d35.43288113415353!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f150!3m3!1m2!1s0x3556f785e9332955%3A0xe304ec2592395767!2z5Liy44Go44KT5Lqt5pel5pys6YWS6YWS5aC05LiJ5Luj55uu44Gy44KH44GG44Gf44KT!5e0!3m2!1sja!2sjp!4v1744096017161!5m2!1sja!2sjp"
              class="w-full h-full aspect-square md:aspect-video"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
        </div>
      </div>
    </Section>

    <!-- メニュー -->
    <Section id="menu" title="メニュー">
      <div class="menu-tabs">
        <div class="menu-tab active">やきとんメニュー</div>
        <div class="menu-tab">一品料理</div>
        <div class="menu-tab">お飲み物</div>
      </div>
      <div class="menu-content">
        <MenuCategory title="おすすめやきとん">
          <div class="menu-items">
            {
              yakiton.content.type === 'food' &&
                yakiton.content.items.map((item) => (
                  <div class="menu-item">
                    {/* <!-- <div class="menu-item-image"></div> --> */}
                    <div class="menu-item-info">
                      <div class="menu-item-title">{item.name}</div>
                      {/* <div class="menu-item-price">￥390</div> */}
                      <div class="menu-item-description">{item.description}</div>
                    </div>
                  </div>
                ))
            }
          </div>
        </MenuCategory>

        <MenuCategory title="一品料理">
          <div class="menu-items">
            {
              foods.content.type === 'food' &&
                foods.content.items.map((item) => (
                  <div class="menu-item">
                    {/* <!-- <div class="menu-item-image"></div> --> */}
                    <div class="menu-item-info">
                      <div class="menu-item-title">{item.name}</div>
                      {typeof item.price === 'number' && (
                        <div class="menu-item-price">{Math.floor(item.price * 1.1)}円（税込）</div>
                      )}
                      <div class="menu-item-description">{item.description}</div>
                    </div>
                  </div>
                ))
            }
          </div>
        </MenuCategory>

        <MenuCategory title="日本酒">
          <div class="menu-items">
            {}
            <div class="menu-item">
              <div class="menu-item-image"></div>
              <div class="menu-item-info">
                <div class="menu-item-title">獺祭 純米大吟醸</div>
                <div class="menu-item-price">¥800 / 1合</div>
                <div class="menu-item-description">
                  山口県の有名酒蔵が作る、フルーティーな香りと上品な甘み
                </div>
              </div>
            </div>
          </div>
        </MenuCategory>

        <div class="menu-category">
          <h3>当店自慢の日本酒</h3>
          <div class="menu-items">
            <div class="menu-item">
              <div class="menu-item-image"></div>
              <div class="menu-item-info">
                <div class="menu-item-title">十四代 特別本醸造</div>
                <div class="menu-item-price">¥1,200 / 1合</div>
                <div class="menu-item-description">山形県の希少銘柄。芳醇な味わいが特徴</div>
              </div>
            </div>
            <div class="menu-item">
              <div class="menu-item-image"></div>
              <div class="menu-item-info">
                <div class="menu-item-title">日本酒飲み比べセット</div>
                <div class="menu-item-price">¥1,500</div>
                <div class="menu-item-description">季節の3種をお楽しみいただけます</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Section>
  </main>
  <!-- フッター -->
</Layout>
